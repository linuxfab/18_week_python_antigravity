# ç¬¬ 08 é€± | æ··æ²Œç†è«–ï¼šé£Ÿç‰©çš„èª•ç”Ÿ

> **çµ¦è€å¸«çš„å‚™èª²ç­†è¨˜ (Lesson Notes)**ï¼š
> é€™æ˜¯å­¸ç”Ÿç¬¬ä¸€æ¬¡æ¥è§¸ã€Œ**ä¸ç¢ºå®šæ€§ (Uncertainty)**ã€ã€‚
> åœ¨æ­¤ä¹‹å‰çš„æ¯ä¸€å€‹è®Šæ•¸éƒ½æ˜¯æˆ‘å€‘è¨­å®šå¥½çš„ï¼Œä½† `random` è®“é›»è…¦æœ‰äº†è‡ªå·±çš„æ„å¿—ã€‚
> è«‹ç‰¹åˆ¥èŠ±æ™‚é–“è§£é‡‹ **Grid Alignment (ç¶²æ ¼å°é½Š)** çš„æ•¸å­¸å…¬å¼ï¼Œé€™æ˜¯å¾ˆå¤šåˆå­¸è€…çš„ç—›é»ï¼ˆé£Ÿç‰©å‡ºç¾åœ¨å…©å€‹æ ¼å­çš„ä¸­é–“ï¼Œå°è‡´æ€éº¼æ’éƒ½åƒä¸åˆ°ï¼‰ã€‚

---

## ğŸ¯ æœ¬é€±æ•™å­¸ç›®æ¨™ (Learning Objectives)

1.  **éš¨æ©Ÿæ•¸ (Randomness)**ï¼šä½¿ç”¨ `import random` ç”¢ç”Ÿæ•´æ•¸ã€‚
2.  **èˆ‡ç¶²æ ¼å°é½Š (Snap to Grid)**ï¼šç†è§£ `randint(0, cols) * size` çš„å…¬å¼æ„ç¾©ã€‚
3.  **Global è®Šæ•¸**ï¼šç†è§£ç‚ºä»€éº¼åœ¨å‡½æ•¸å…§ä¿®æ”¹å¤–é¢çš„è®Šæ•¸éœ€è¦åŠ  `global` é—œéµå­—ã€‚

---

## ğŸ“Š æ•™å­¸æŠ•å½±ç‰‡å¤§ç¶± (Slides Outline)

### Slide 1: èª°åœ¨æ“²éª°å­ï¼Ÿ (Who rolls the dice?)
*   **æå•**ï¼šå¦‚æœæ¯æ¬¡åŸ·è¡ŒéŠæˆ²ï¼Œé£Ÿç‰©éƒ½åœ¨åŒä¸€å€‹ä½ç½®ï¼Œå¥½ç©å—ï¼Ÿ
*   **ç­”æ¡ˆ**ï¼šä¸å¥½ç©ã€‚æˆ‘å€‘éœ€è¦é©šå–œã€‚
*   **å·¥å…·**ï¼š`random.randint(min, max)`ã€‚

### Slide 2: ç¶²æ ¼é™·é˜± (The Grid Trap)
*   **éŒ¯èª¤ç¤ºç¯„**ï¼š`x = random.randint(0, 800)`ã€‚
*   **çµæœ**ï¼šé£Ÿç‰©å¯èƒ½å‡ºç¾åœ¨ `x=43` çš„ä½ç½®ã€‚
*   **å•é¡Œ**ï¼šè›‡æ¯æ¬¡ç§»å‹• 40 æ ¼ (0, 40, 80...)ï¼Œå®ƒæ°¸é ä¸å¯èƒ½èµ°åˆ° 43ï¼Œæ‰€ä»¥æ°¸é åƒä¸åˆ°é£Ÿç‰©ï¼
*   **æ­£ç¢ºè§£æ³•**ï¼šå…ˆç®—æ ¼å­ç·¨è™Ÿ (0~19)ï¼Œå†ä¹˜å›åƒç´  (Pixel)ã€‚

### Slide 3: å‡½æ•¸çš„æ¬Šé™ (Scope)
*   **å…¨åŸŸè®Šæ•¸ (Global)**ï¼šåƒæ˜¯ `food_x`ï¼Œå¤§å®¶éƒ½çœ‹å¾—åˆ°ã€‚
*   **å€åŸŸè®Šæ•¸ (Local)**ï¼šå‡½æ•¸è£¡é¢è‡ªå·±å®šç¾©çš„è®Šæ•¸ã€‚
*   **é—œéµå­—**ï¼šå¦‚æœè¦åœ¨ `spawn_food()` è£¡é¢ä¿®æ”¹å¤–é¢çš„ `food_x`ï¼Œå¿…é ˆå‘Šè¨´ Pythonï¼šã€Œæˆ‘è¦ç”¨å¤–é¢é‚£å€‹ Global çš„è®Šæ•¸ï¼ã€-> `global food_x`ã€‚

---

## ğŸ“ ç¨‹å¼ç¢¼é‚è¼¯æ‹†è§£ (Code Breakdown)

### 1. `import random`
é€™æ˜¯ä¸€å€‹æ¨™æº–å‡½å¼åº«ï¼Œä¸éœ€è¦é¡å¤–å®‰è£ã€‚
*   `random.choice(list)`ï¼šå¾æ¸…å–®é¸ä¸€å€‹ã€‚
*   `random.randint(a, b)`ï¼šé¸ä¸€å€‹æ•´æ•¸ xï¼Œä½¿å¾— a <= x <= bã€‚

### 2. ç”Ÿæˆé‚è¼¯ (Spawn Logic)
```python
cols = WINDOW_WIDTH // block_size # 800 // 40 = 20 æ ¼
rand_col = random.randint(0, 19)  # éš¨æ©Ÿé¸ç¬¬ 0 åˆ°ç¬¬ 19 æ ¼
food_x = rand_col * 40            # è½‰å›åº§æ¨™ï¼š0, 40, 80...
```
é€™å€‹å…¬å¼ä¿è­‰äº†é£Ÿç‰©æ°¸é ä¹–ä¹–å¾…åœ¨æ ¼å­è£¡ã€‚

---

## ğŸ‹ï¸â€â™‚ï¸ å‹•æ‰‹è©¦è©¦çœ‹ (Hands-on Exercises)

### ğŸŸ¢ åŸºç¤é¡Œ (Food Master)
1.  **æ”¹è®Šé£Ÿç‰©é¡è‰²**ï¼šä¿®æ”¹ `spawn_food` å‡½æ•¸ï¼Œè®“é£Ÿç‰©æ°¸é æ˜¯é»ƒè‰²çš„ (åƒ Pac-Man çš„è±†å­)ã€‚
2.  **ç”Ÿæˆå…©é¡†é£Ÿç‰©**ï¼šè©¦è‘—å‰µé€ ç¬¬äºŒçµ„è®Šæ•¸ `food2_x`, `food2_y`ï¼Œä¸¦è®“ç•«é¢åŒæ™‚å‡ºç¾å…©é¡†é£Ÿç‰©ã€‚

### ğŸŸ¡ é€²éšé¡Œ (The Poison Apple)
1.  **æ¯’è˜‹æœé‚è¼¯**ï¼š
    *   å‰µé€ ä¸€å€‹æœ‰ 10% æ©Ÿç‡ç”Ÿæˆçš„ã€Œæ¯’è˜‹æœã€(ç´«è‰²)ã€‚
    *   æç¤ºï¼š`if random.randint(1, 100) <= 10: color = PURPLE`ã€‚
2.  **é˜²å‘†æ©Ÿåˆ¶**ï¼š
    *   ç›®å‰çš„ç¨‹å¼ç¢¼**æ²’æœ‰**æª¢æŸ¥é£Ÿç‰©æ˜¯å¦ç”Ÿæˆåœ¨è›‡çš„èº«é«”ä¸Šã€‚
    *   é€™æ„å‘³è‘—é£Ÿç‰©å¯èƒ½ç›´æ¥å‡ºç¾åœ¨è›‡è‚šå­è£¡ï¼
    *   **æŒ‘æˆ°**ï¼šé›–ç„¶é€™é€±é‚„æ²’æ•™ `if` ç¢°æ’ï¼Œä½†ä½ å¯ä»¥è©¦è‘—æ€è€ƒï¼Œå¦‚ä½•å¯«ä¸€å€‹ `while` è¿´åœˆä¾†æª¢æŸ¥ï¼Ÿã€Œç•¶é£Ÿç‰©çš„ä½ç½® == è›‡é ­çš„ä½ç½®ï¼Œå°±é‡éª°ä¸€æ¬¡ã€ã€‚

---

## ğŸ“š åƒè€ƒè³‡æº (References)
*   [Python Random Module](https://docs.python.org/3/library/random.html)
*   [Alignment in Game Design](https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/grid-based-collision-detection-and-movement-r2868/) (é€²éšé–±è®€ï¼šç‚ºä»€éº¼ç¶²æ ¼ç³»çµ±å¦‚æ­¤é‡è¦)
